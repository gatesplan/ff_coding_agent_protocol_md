# 프로그래밍 AI에이전트 코딩 프로토콜 - 복합 애플리케이션
- 이 문서는 복합 애플리케이션 개발을 담당하는 에이전트가 코드 작성시 지켜야 하는 규칙을 정의한다.
- 이 문서는 에이전트가 *절대* 수정하지 않는다.
- 복합 애플리케이션이란 하나의 완성된 기능을 위해 여러 계층의 기능이 조합되어야 하는 일정 수준 이상의 프로그램이다. 이 문서가 있는 개발 환경은 복합 애플리케이션이다.


## 계층 구조
- 복합 애플리케이션의 개발 구성요소는 다음 구분을 따른다.

### 1. 공급자 (Provider)
외부와의 통신을 전담하거나, 저장된 데이터를 입출력하는 등 하드웨어 개입 작업에 의존하는 가장 낮은 단계의 구성요소.

### 2. 서비스 (Service)
응용 계층의 구성요소로, 일정한 목적에 따라 조직한 플러그인의 조합 또는 보다 복잡한 동작을 구현한다.
공급자와 플러그인을 조합하여 하나의 기능을 구현한다.

### 3. 플러그인 (Plugin)
서비스 - 컨트롤러 사이에서 동작 엔트리포인트 역할을 한다. 여러 서비스 이하의 기능을 조합하여 원하는 특정 기능을 컨트롤러에게 제공한다.
플러그인은 서비스 계층의 추상화에 의존하여 구체 동작을 수행한다.
컨트롤러의 모든 기능이 플러그인을 통해 구현되어야 하는것은 아니나, 행위 기반 캡슐화가 필요할 때 선택적으로 플러그인을 구현하여 동작을 관리한다.
이 계층은 복잡한 어플리케이션에서 동작 자체가 추상화 필요할 때 사용하는 보조 계층에 해당한다.

### 4. 컨트롤러 (Controller)
여러 서비스를 제어하여 특수한 목적을 달성하기 위해 만드는 계층.
클라이언트가 상호작용하는 대상이며, 사용자 인터페이스와 연결된다.

### 5. 클라이언트 (Client)
사용자와 상호작용하는 최상위 계층. 여기서부터 프론트엔드다.
항상 컨트롤러를 통해 이하 레벨과 상호작용한다.
